# Personally Idenfifiable Information (PII)
Для выявления песональной идентифицирующей информации можно использовать утилиты
- string 
- exiftool

## exiftool
Базовые варианты без параметров

`exiftool file.xls`

Можно анализировать сразу несколько файлов

`exiftool file1.xls file2.xls file3.xls`

## strings

`strings file.xls`

Можно анализировать сразу несколько файлов

`strings file1.xls file2.xls file3.xls`

Можно сократить объем вывода за счёт задания минимального количества символов в строке

`strings -n 8 file.xls`

Для корректного вывода строк можно настроить размер символа и порядок байтов:

`strings -n 8 -e l file1.doc file2.xls file3.pdf | grep '\\'`

-e --encoding={s, S, b, l, B, L}
s = 7 bit
S = 8 bit
{b,l} = 16 bit
{B,L} = 32 bit


# Recon-ng 
Recon-ng позволяет быстро и тщательно проводить разведку на основе открытых веб-источников.
По схеме работы очень похож на metasploit, но решает другие задачи.
_При использовании в Kali Linux требует дополнительной настройки._

## Основные команды

`search resolve` - показывает текущие настройки

`use <some_module>` - использовать _some_module_ для настройки

`back` - выйти из текущего модуля

`show info` - выводит общую информацию

`show options` - показывает текущие настройки

`show schema` - показывает схему бд

`rm -rf .recon-ng` - очищает конфигурационные файлы и SQLite

## Запросить данные по PTR записям для диапазона адресов 10.100.36.0/24

`use recon/netblocks-hosts/reverse_resolve`

`set SOURCE 10.100.1.0/24`

`run`

## DNS Server Cache snooping attacks

Позволяет проверять наличие записей в кеше DNS сервера. Подробнее [microsoft.com](https://docs.microsoft.com/en-us/troubleshoot/windows-server/networking/dns-server-cache-snooping-attacks)
Таким образом можно определить какие ресурсы посещают или каким ПО пользуются в локальной сети:

`use discovery/info_disclosure/cache_snoop`

Указывать необходимо обязательно IP-адрес DNS-сервера, в противном случае появляется ошибка в скрипте. 

`set NAMESERVER 192.168.1.1`

`run`

# Nmap

## Типовые параметры

`nmap -n -sU 10.10.10.50 -p 53,500-501` - UDP сканирование

`nmap -n -O -sT -p 1-1024 10.10.10.1-255` - TCP сканирование 

`nmap -n -sV -p 1-150 10.10.10.10` - определение версий ПО

## Параметры

`sudo nmap -n -sP 192.168.1.1-255 --packet-trace`

`-n` - без разрешения имён 

`-p 21,22,23,25,80,135,443,6000` - задает порты для сканирования

`-sP` - (skip port scan) только определять доступность хоста через ARP-запрос. Если запуск от непривилегированного пользователя, то только отправляются только SYN пакеты на порты 80 и 443. 
`-sU` - сканирование UDP-портов (требует root)
`-sT` - TCP сканирование с использованием системного вызова connect

`-O` - определение ОС
`-sV` - определение версий ПО, работающих на портах

`-oA /tmp/10.10.10.50_connect_scan` - сохраняет результат сканирования в файл

`--packet-trace` - выводит сведения о пакете перед его отправкой
`--reason` - выводит сведения о пакете перед его отправкой

`<spacebar>` - получить текущий статус сканирования

# tcpdump

## Примеры

`tcpdump -nn net 10.10.10`

`tcpdump -nn host <IP_ADDRESS> and net <NET>` - для хоста с адресом <IP_ADDRESS> и сети <NET> (возможен такой формат 192.168.1)

## Параметры

`-n` - отключает разрешение имен

`-nn` - отображает номер порта вместо используемого им протокола

















